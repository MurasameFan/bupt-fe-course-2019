{"version":3,"sources":["Game.ts"],"names":[],"mappings":";;;;AAAA,oBAAoB;AACpB,kFAAkF;AAClF,yFAAyF;AACzF,mBAAmB;AACnB,4FAA4F;AAC5F,mGAAmG;AACnG,8BAA8B;AAC9B,4FAA4F;AAC5F,mGAAmG;;AAE7F,IAAA,kBAAqC,EAAnC,oBAAO,EAAE,sBAAQ,CAAmB;AAa5C;IAAkC,wBAAY;IAD9C;QAAA,qEAqCC;QA9BG,WAAK,GAAY,IAAI,CAAC;QAGtB,eAAS,GAAY,IAAI,CAAC;QAG1B,YAAM,GAAY,IAAI,CAAC;;IAwB3B,CAAC;IAtBG,qBAAM,GAAN;QACI,IAAM,OAAO,GAAG,EAAE,CAAC,QAAQ,CAAC,mBAAmB,EAAE,CAAC,CAAC,OAAO;QAC1D,OAAO,CAAC,OAAO,GAAG,IAAI,CAAC;QAEvB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;QACvD,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;QAC1D,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC;IACvE,CAAC;IAEM,uBAAQ,GAAf;QACI,IAAI,CAAC,cAAc,CAAC,QAAQ,EAAE,CAAC;IACnC,CAAC;IAEM,uBAAQ,GAAf;QACI,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,EAAE,CAAC,CAAC;IACjE,CAAC;IAEM,wBAAS,GAAhB;QACI,IAAI,CAAC,cAAc,CAAC,UAAU,EAAE,CAAC;QACjC,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,CAAC;QAC7B,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,KAAK,CAAC;IAClC,CAAC;IA7BD;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;uCACI;IAGtB;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;2CACQ;IAG1B;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;wCACK;IAZN,IAAI;QADxB,OAAO;OACa,IAAI,CAoCxB;IAAD,WAAC;CApCD,AAoCC,CApCiC,EAAE,CAAC,SAAS,GAoC7C;kBApCoB,IAAI","file":"","sourceRoot":"../../../../../assets/Script/controller","sourcesContent":["// Learn TypeScript:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\n\nconst { ccclass, property } = cc._decorator;\n\nimport { ScoreAction } from '../view/Score';\nimport { PlayerAction } from '../view/Player';\nimport { OverPanelAction } from '../view/OverPanel';\n\nexport type GameAction = {\n    addScore: () => void;\n    overGame: () => void;\n    startGame: () => void;\n};\n\n@ccclass\nexport default class Game extends cc.Component {\n    ScoreComponent: ScoreAction;\n    PlayerComponent: PlayerAction;\n    OverPanelComponent: OverPanelAction;\n\n    @property(cc.Node)\n    score: cc.Node = null;\n\n    @property(cc.Node)\n    overPanel: cc.Node = null;\n\n    @property(cc.Node)\n    player: cc.Node = null;\n\n    onLoad() {\n        const manager = cc.director.getCollisionManager(); // 开启碰撞\n        manager.enabled = true;\n\n        this.ScoreComponent = this.score.getComponent('Score');\n        this.PlayerComponent = this.player.getComponent('Player');\n        this.OverPanelComponent = this.overPanel.getComponent('OverPanel');\n    }\n\n    public addScore() {\n        this.ScoreComponent.addScore();\n    }\n\n    public overGame() {\n        this.OverPanelComponent.show(this.ScoreComponent.getScore());\n    }\n\n    public startGame() {\n        this.ScoreComponent.resetScore();\n        this.PlayerComponent.birth();\n        this.overPanel.active = false;\n    }\n}\n"]}